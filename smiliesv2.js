!function(i,e,l,t){"use strict";var n=null;XF.FAProfileSmilies=XF.Click.newHandler({eventNameSpace:"XFFAProfileSmiliesClick",init:function(){},click:function(e){e.preventDefault();var l=this;null==n?XF.ajax("GET",XF.canonicalizeUrl("smilies/"),{},function(e){XF.setupHtmlInsert(e.html,function(e,t,s){n=e,i(".profile-smilies").toggleClass("is-active").html(e),e.find("img.smilie").bind("click",function(e){var t=i(e.currentTarget);l.cleverInsert(t.attr("alt"))})})}):i(".profile-smilies").toggleClass("is-active")},cleverInsert:function(e){var l='.shoutbox-controls input[name="message"]',t=i(l).prop("selectionStart"),n=i(l).prop("selectionEnd"),s=i(l).val(),r=s.substring(0,t),c=s.substring(n,s.length);i(l).val(r+" "+e+" "+c).focus()}}),XF.Click.register("profile-smilies-list","XF.FAProfileSmilies")}(jQuery,window,document);
